import{S as Xe,i as Ze,s as Re,a as N,k as f,q as j,U as Qe,h as n,c as P,l as p,m,r as U,n as o,b as C,E as a,t as $,d as Ee,f as Z,C as Je,o as We,g as Ie,B as ne,u as he,w as Ye,x as xe,y as $e,z as et,a9 as x,H as ie,M as tt,G as lt,e as Ke}from"../../../chunks/index-d013028e.js";import{b as st,u as rt}from"../../../chunks/stores-0b419ec7.js";import{g as at}from"../../../chunks/navigation-71d603d3.js";import{p as it}from"../../../chunks/stores-b1cfe59c.js";import{d as ae}from"../../../chunks/index-08174bcb.js";import{a as Me}from"../../../chunks/api-181b64a8.js";import{A as nt}from"../../../chunks/Avatar-1ef3f721.js";var ot=function(i,t){t=t||{},t.listUnicodeChar=t.hasOwnProperty("listUnicodeChar")?t.listUnicodeChar:!1,t.stripListLeaders=t.hasOwnProperty("stripListLeaders")?t.stripListLeaders:!0,t.gfm=t.hasOwnProperty("gfm")?t.gfm:!0,t.useImgAltText=t.hasOwnProperty("useImgAltText")?t.useImgAltText:!0;var e=i||"";e=e.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm,"");try{t.stripListLeaders&&(t.listUnicodeChar?e=e.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,t.listUnicodeChar+" $1"):e=e.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),t.gfm&&(e=e.replace(/\n={2,}/g,`
`).replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),e=e.replace(/<[^>]*>/g,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,t.useImgAltText?"$1":"").replace(/\[(.*?)\][\[\(].*?[\]\)]/g,"$1").replace(/^\s{0,3}>\s?/g,"").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} {0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/\n{2,}/g,`

`)}catch(s){return console.error(s),i}return e};function ut(i){let t,e;return{c(){t=f("div"),e=j("Načítám ...")},l(s){t=p(s,"DIV",{});var u=m(t);e=U(u,"Načítám ..."),u.forEach(n)},m(s,u){C(s,t,u),a(t,e)},p:ne,i:ne,o:ne,d(s){s&&n(t)}}}function ct(i){let t,e,s,u,c,y,v,r=i[0].code+"",l,d,b,I,S,E,w,z,A=(i[5]?i[5].title:"")+"",O,q,_,h,k=i[6]&&Be(i);function G(V,D){return V[0].claimed?ft:dt}let R=G(i),L=R(i);return{c(){t=f("div"),e=f("div"),s=f("div"),u=f("div"),c=j("Kód vyzvednutí"),y=N(),v=f("div"),l=j(r),d=N(),b=f("div"),I=f("div"),S=j("Typ vstupenky"),E=N(),w=f("div"),z=f("span"),O=j(A),q=N(),k&&k.c(),_=N(),L.c(),this.h()},l(V){t=p(V,"DIV",{class:!0});var D=m(t);e=p(D,"DIV",{class:!0});var K=m(e);s=p(K,"DIV",{});var Q=m(s);u=p(Q,"DIV",{class:!0});var M=m(u);c=U(M,"Kód vyzvednutí"),M.forEach(n),y=P(Q),v=p(Q,"DIV",{class:!0});var X=m(v);l=U(X,r),X.forEach(n),Q.forEach(n),d=P(K),b=p(K,"DIV",{class:!0});var W=m(b);I=p(W,"DIV",{class:!0});var ee=m(I);S=U(ee,"Typ vstupenky"),ee.forEach(n),E=P(W),w=p(W,"DIV",{class:!0});var B=m(w);z=p(B,"SPAN",{class:!0});var H=m(z);O=U(H,A),H.forEach(n),q=P(B),k&&k.l(B),B.forEach(n),W.forEach(n),_=P(K),L.l(K),K.forEach(n),D.forEach(n),this.h()},h(){o(u,"class","uppercase text-sm font-bold"),o(v,"class","mt-2 font-mono"),o(I,"class","uppercase text-sm font-bold"),o(z,"class",""),o(w,"class","mt-2"),o(b,"class","mt-6"),o(e,"class","p-2"),o(t,"class","p-3 bg-blue-web-light rounded-md mt-6 text-blue-web shadow-md")},m(V,D){C(V,t,D),a(t,e),a(e,s),a(s,u),a(u,c),a(s,y),a(s,v),a(v,l),a(e,d),a(e,b),a(b,I),a(I,S),a(b,E),a(b,w),a(w,z),a(z,O),a(w,q),k&&k.m(w,null),a(e,_),L.m(e,null),h=!0},p(V,D){(!h||D&1)&&r!==(r=V[0].code+"")&&he(l,r),(!h||D&32)&&A!==(A=(V[5]?V[5].title:"")+"")&&he(O,A),V[6]?k?(k.p(V,D),D&64&&Z(k,1)):(k=Be(V),k.c(),Z(k,1),k.m(w,null)):k&&(Ie(),$(k,1,1,()=>{k=null}),Ee()),R===(R=G(V))&&L?L.p(V,D):(L.d(1),L=R(V),L&&(L.c(),L.m(e,null)))},i(V){h||(Z(k),h=!0)},o(V){$(k),h=!1},d(V){V&&n(t),k&&k.d(),L.d()}}}function Be(i){let t,e,s=i[6].name+"",u,c,y,v,r=i[6].photos&&Fe(i);return{c(){t=j("("),r&&r.c(),e=f("a"),u=j(s),y=j(")"),this.h()},l(l){t=U(l,"("),r&&r.l(l),e=p(l,"A",{href:!0});var d=m(e);u=U(d,s),d.forEach(n),y=U(l,")"),this.h()},h(){o(e,"href",c="/lide?id="+i[6].id)},m(l,d){C(l,t,d),r&&r.m(l,d),C(l,e,d),a(e,u),C(l,y,d),v=!0},p(l,d){l[6].photos?r?(r.p(l,d),d&64&&Z(r,1)):(r=Fe(l),r.c(),Z(r,1),r.m(e.parentNode,e)):r&&(Ie(),$(r,1,1,()=>{r=null}),Ee()),(!v||d&64)&&s!==(s=l[6].name+"")&&he(u,s),(!v||d&64&&c!==(c="/lide?id="+l[6].id))&&o(e,"href",c)},i(l){v||(Z(r),v=!0)},o(l){$(r),v=!1},d(l){l&&n(t),r&&r.d(l),l&&n(e),l&&n(y)}}}function Fe(i){let t,e;return t=new nt({props:{speaker:i[6],size:"extra-small",inline:"true",col:i[5].col}}),{c(){Ye(t.$$.fragment)},l(s){xe(t.$$.fragment,s)},m(s,u){$e(t,s,u),e=!0},p(s,u){const c={};u&64&&(c.speaker=s[6]),u&32&&(c.col=s[5].col),t.$set(c)},i(s){e||(Z(t.$$.fragment,s),e=!0)},o(s){$(t.$$.fragment,s),e=!1},d(s){et(t,s)}}}function dt(i){let t,e,s,u,c,y,v,r,l,d,b,I,S,E,w,z,A,O,q,_,h,k,G,R,L,V,D,K,Q,M,X,W,ee,B,H,oe,_e,Y,te,be,ke,le,J,ue,ye,se,ge,we;function Ve(g,T){return g[3]?pt:vt}let ce=Ve(i),F=ce(i);return{c(){t=f("div"),e=f("div"),s=j("Email"),u=N(),c=f("div"),y=j("Kontaktní email, na který budou zaslány vstupenky."),v=N(),r=f("div"),l=f("input"),d=N(),b=f("div"),I=f("div"),S=j("Vstupenka"),E=N(),w=f("div"),z=j(`Informace, které budou vytištěné na Vaší konferenční jmenovku.
                Tyto údaje jsou nepovinné a bude možné je změnit později.`),A=N(),O=f("div"),q=f("div"),_=f("div"),h=f("div"),k=f("div"),G=f("div"),R=j("Jméno (Přezdívka)"),L=N(),V=f("div"),D=f("input"),Q=N(),M=f("div"),X=f("div"),W=j("Organizace (Firma)"),ee=N(),B=f("div"),H=f("input"),_e=N(),Y=f("div"),te=f("div"),be=j("Twitter účet"),ke=N(),le=f("div"),J=f("input"),ye=N(),se=f("div"),F.c(),this.h()},l(g){t=p(g,"DIV",{class:!0});var T=m(t);e=p(T,"DIV",{class:!0});var De=m(e);s=U(De,"Email"),De.forEach(n),u=P(T),c=p(T,"DIV",{class:!0});var Te=m(c);y=U(Te,"Kontaktní email, na který budou zaslány vstupenky."),Te.forEach(n),v=P(T),r=p(T,"DIV",{class:!0});var ze=m(r);l=p(ze,"INPUT",{type:!0,class:!0}),ze.forEach(n),T.forEach(n),d=P(g),b=p(g,"DIV",{class:!0});var de=m(b);I=p(de,"DIV",{class:!0});var Ne=m(I);S=U(Ne,"Vstupenka"),Ne.forEach(n),E=P(de),w=p(de,"DIV",{class:!0});var Pe=m(w);z=U(Pe,`Informace, které budou vytištěné na Vaší konferenční jmenovku.
                Tyto údaje jsou nepovinné a bude možné je změnit později.`),Pe.forEach(n),de.forEach(n),A=P(g),O=p(g,"DIV",{class:!0});var fe=m(O);q=p(fe,"DIV",{class:!0});var je=m(q);_=p(je,"DIV",{class:!0});var Ue=m(_);h=p(Ue,"DIV",{class:!0});var re=m(h);k=p(re,"DIV",{class:!0});var pe=m(k);G=p(pe,"DIV",{class:!0});var Oe=m(G);R=U(Oe,"Jméno (Přezdívka)"),Oe.forEach(n),L=P(pe),V=p(pe,"DIV",{class:!0});var Ce=m(V);D=p(Ce,"INPUT",{type:!0,maxlength:!0,class:!0,placeholder:!0}),Ce.forEach(n),pe.forEach(n),Q=P(re),M=p(re,"DIV",{class:!0});var ve=m(M);X=p(ve,"DIV",{class:!0});var Se=m(X);W=U(Se,"Organizace (Firma)"),Se.forEach(n),ee=P(ve),B=p(ve,"DIV",{class:!0});var Ae=m(B);H=p(Ae,"INPUT",{type:!0,maxlength:!0,class:!0,placeholder:!0}),Ae.forEach(n),ve.forEach(n),_e=P(re),Y=p(re,"DIV",{class:!0});var me=m(Y);te=p(me,"DIV",{class:!0});var Le=m(te);be=U(Le,"Twitter účet"),Le.forEach(n),ke=P(me),le=p(me,"DIV",{class:!0});var He=m(le);J=p(He,"INPUT",{type:!0,maxlength:!0,class:!0,placeholder:!0}),He.forEach(n),me.forEach(n),re.forEach(n),Ue.forEach(n),je.forEach(n),ye=P(fe),se=p(fe,"DIV",{});var qe=m(se);F.l(qe),qe.forEach(n),fe.forEach(n),this.h()},h(){o(e,"class","uppercase text-sm font-bold"),o(c,"class","mt-2 text-sm"),o(l,"type","text"),o(l,"class","border border-blue-web rounded-md p-2 w-full lg:w-1/2 text-blue-web"),o(r,"class","mt-2"),o(t,"class","mt-6"),o(I,"class","uppercase text-sm font-bold"),o(w,"class","mt-2 text-sm"),o(b,"class","mt-6"),o(G,"class","uppercase text-sm"),o(D,"type","text"),o(D,"maxlength","25"),o(D,"class","border border-blue-web rounded-md p-2 w-full text-blue-web"),o(D,"placeholder",K=i[0].type!=="speaker"?ae.name.findName():""),o(V,"class","mt-2"),o(k,"class","flex-1"),o(X,"class","uppercase text-sm"),o(H,"type","text"),o(H,"maxlength","25"),o(H,"class","border border-blue-web rounded-md p-2 w-full text-blue-web"),o(H,"placeholder",oe=i[0].type!=="speaker"?ae.company.companyName():""),o(B,"class","mt-2"),o(M,"class","flex-1"),o(te,"class","uppercase text-sm"),o(J,"type","text"),o(J,"maxlength","25"),o(J,"class","border border-blue-web rounded-md p-2 w-full text-blue-web"),o(J,"placeholder",ue=i[0].type!=="speaker"?ae.internet.userName():""),o(le,"class","mt-2"),o(Y,"class",""),o(h,"class","md:flex gap-2"),o(_,"class",""),o(q,"class","p-4 bg-utxo-gradient text-white rounded-md mb-6 shadow-md"),o(O,"class","mt-2")},m(g,T){C(g,t,T),a(t,e),a(e,s),a(t,u),a(t,c),a(c,y),a(t,v),a(t,r),a(r,l),x(l,i[2].email),C(g,d,T),C(g,b,T),a(b,I),a(I,S),a(b,E),a(b,w),a(w,z),C(g,A,T),C(g,O,T),a(O,q),a(q,_),a(_,h),a(h,k),a(k,G),a(G,R),a(k,L),a(k,V),a(V,D),x(D,i[2].name),a(h,Q),a(h,M),a(M,X),a(X,W),a(M,ee),a(M,B),a(B,H),x(H,i[2].org),a(h,_e),a(h,Y),a(Y,te),a(te,be),a(Y,ke),a(Y,le),a(le,J),x(J,i[2].twitter),a(O,ye),a(O,se),F.m(se,null),ge||(we=[ie(l,"input",i[8]),ie(D,"input",i[9]),ie(H,"input",i[10]),ie(J,"input",i[11])],ge=!0)},p(g,T){T&4&&l.value!==g[2].email&&x(l,g[2].email),T&1&&K!==(K=g[0].type!=="speaker"?ae.name.findName():"")&&o(D,"placeholder",K),T&4&&D.value!==g[2].name&&x(D,g[2].name),T&1&&oe!==(oe=g[0].type!=="speaker"?ae.company.companyName():"")&&o(H,"placeholder",oe),T&4&&H.value!==g[2].org&&x(H,g[2].org),T&1&&ue!==(ue=g[0].type!=="speaker"?ae.internet.userName():"")&&o(J,"placeholder",ue),T&4&&J.value!==g[2].twitter&&x(J,g[2].twitter),ce===(ce=Ve(g))&&F?F.p(g,T):(F.d(1),F=ce(g),F&&(F.c(),F.m(se,null)))},d(g){g&&n(t),g&&n(d),g&&n(b),g&&n(A),g&&n(O),F.d(),ge=!1,tt(we)}}}function ft(i){let t,e,s;return{c(){t=f("div"),e=f("div"),s=j("Již vyzvednuto!"),this.h()},l(u){t=p(u,"DIV",{class:!0});var c=m(t);e=p(c,"DIV",{class:!0});var y=m(e);s=U(y,"Již vyzvednuto!"),y.forEach(n),c.forEach(n),this.h()},h(){o(e,"class","text-lg font-bold"),o(t,"class","mt-6")},m(u,c){C(u,t,c),a(t,e),a(e,s)},p:ne,d(u){u&&n(t)}}}function pt(i){let t,e,s,u,c,y,v;return{c(){t=f("div"),e=f("div"),s=f("img"),c=N(),y=f("div"),v=j("Odesílám žádost .."),this.h()},l(r){t=p(r,"DIV",{class:!0});var l=m(t);e=p(l,"DIV",{class:!0});var d=m(e);s=p(d,"IMG",{src:!0,class:!0}),d.forEach(n),c=P(l),y=p(l,"DIV",{class:!0});var b=m(y);v=U(b,"Odesílám žádost .."),b.forEach(n),l.forEach(n),this.h()},h(){lt(s.src,u="/img/Spin-1s-200px.gif")||o(s,"src",u),o(s,"class","w-10"),o(e,"class",""),o(y,"class","my-auto text-red-600 font-bold"),o(t,"class","flex gap-3")},m(r,l){C(r,t,l),a(t,e),a(e,s),a(t,c),a(t,y),a(y,v)},p:ne,d(r){r&&n(t)}}}function vt(i){let t,e,s,u,c,y,v,r,l=i[4]&&Ge(i);return{c(){t=f("div"),e=f("button"),s=f("div"),u=j("Získat vstupenku"),c=N(),l&&l.c(),y=Ke(),this.h()},l(d){t=p(d,"DIV",{});var b=m(t);e=p(b,"BUTTON",{class:!0});var I=m(e);s=p(I,"DIV",{class:!0});var S=m(s);u=U(S,"Získat vstupenku"),S.forEach(n),I.forEach(n),b.forEach(n),c=P(d),l&&l.l(d),y=Ke(),this.h()},h(){o(s,"class","py-2 px-4"),o(e,"class","hover:bg-utxo-gradient bg-[#E16A61] text-white font-semibold rounded-full shadow-md"),e.disabled=i[3]},m(d,b){C(d,t,b),a(t,e),a(e,s),a(s,u),C(d,c,b),l&&l.m(d,b),C(d,y,b),v||(r=ie(e,"click",i[7]),v=!0)},p(d,b){b&8&&(e.disabled=d[3]),d[4]?l?l.p(d,b):(l=Ge(d),l.c(),l.m(y.parentNode,y)):l&&(l.d(1),l=null)},d(d){d&&n(t),d&&n(c),l&&l.d(d),d&&n(y),v=!1,r()}}}function Ge(i){let t,e=i[4].title+"",s;return{c(){t=f("div"),s=j(e),this.h()},l(u){t=p(u,"DIV",{class:!0});var c=m(t);s=U(c,e),c.forEach(n),this.h()},h(){o(t,"class","mt-4 text-red-500")},m(u,c){C(u,t,c),a(t,s)},p(u,c){c&16&&e!==(e=u[4].title+"")&&he(s,e)},d(u){u&&n(t)}}}function mt(i){let t,e,s,u,c,y,v,r,l,d;document.title=t="Vyzvednutí vstupenky | "+(i[1]?i[1].name:"UTXO.22");const b=[ct,ut],I=[];function S(E,w){return E[0]&&E[1]?0:1}return r=S(i),l=I[r]=b[r](i),{c(){e=N(),s=f("section"),u=f("h1"),c=j("Vyzvednutí vstupenky"),y=N(),v=f("div"),l.c(),this.h()},l(E){Qe("svelte-1vqcqe8",document.head).forEach(n),e=P(E),s=p(E,"SECTION",{class:!0});var z=m(s);u=p(z,"H1",{class:!0});var A=m(u);c=U(A,"Vyzvednutí vstupenky"),A.forEach(n),y=P(z),v=p(z,"DIV",{class:!0});var O=m(v);l.l(O),O.forEach(n),z.forEach(n),this.h()},h(){o(u,"class","uppercase text-2xl font-bold"),o(v,"class","mt-6 mb-10"),o(s,"class","relative mx-auto py-6 sm:py-10 px-6 max-w-6xl text-blue-web")},m(E,w){C(E,e,w),C(E,s,w),a(s,u),a(u,c),a(s,y),a(s,v),I[r].m(v,null),d=!0},p(E,[w]){(!d||w&2)&&t!==(t="Vyzvednutí vstupenky | "+(E[1]?E[1].name:"UTXO.22"))&&(document.title=t);let z=r;r=S(E),r===z?I[r].p(E,w):(Ie(),$(I[z],1,1,()=>{I[z]=null}),Ee(),l=I[r],l?l.p(E,w):(l=I[r]=b[r](E),l.c()),Z(l,1),l.m(v,null))},i(E){d||(Z(l),d=!0)},o(E){$(l),d=!1},d(E){E&&n(e),E&&n(s),I[r].d()}}}function ht(i){if(typeof i=="string")return{title:i};const t={title:i.title};if(i.formErrors&&i.formErrors.length>0){let e=[];i.formErrors.find(s=>s.instancePath==="/email")&&e.push("Neplatný email"),i.formErrors.find(s=>s.instancePath.match(/\/twitter/))&&e.push("Neplatný Twitter účet."),t.title="Nesprávně vyplněný formulář: "+(e.length>0?e.join(","):"neznámá chyba"),t.debug=i.formErrors}return t.title||(t.title="Neznámá chyba, zkuste to prosím později."),t}function _t(i,t,e){let s,u,c,y;Je(i,st,_=>e(1,c=_)),Je(i,it,_=>e(12,y=_));let v=null,r={email:"",name:"",org:"",twitter:""},l=!1,d=null;function b(_){return _.type==="speaker"?c.spec.speakers.find(h=>h.id===_.id):_.type==="partner"?c.spec.partners.find(h=>h.id===_.id):_.type==="team"?c.spec.team.persons[_.id]:null}async function I(_){return await Me.apiCall("claimInfo",{method:"post"},{code:_})}We(async()=>{const _=new URLSearchParams(y.url.search);if(e(0,v=await I(_.get("kod"))),v||at("/"),c&&v.type==="speaker"&&v.link&&v.link.type==="speaker"){const h=c.spec.speakers.find(k=>k.id===v.link.id);h&&(e(2,r.name=h.name||"",r),e(2,r.org=h.orgs?ot(h.orgs).substring(0,25):"",r),e(2,r.twitter=h.twitter?"@"+h.twitter:"",r))}});const S={speaker:{title:"Přednášející",hostTitle:"Host přednášejícího",col:"speakers"},organizator:{title:"Organizátor",hostTitle:"Host organizátora",col:"speakers"},partner:{title:"Partner",hostTitle:"Host partnera",col:"partners"},host:{title:"Host"},team:{title:"Team",hostTitle:"Host organizátora"}};function E(_){if(!_)return null;const h={title:null,col:null};if(_.type==="host"){const k=S[_.link.type];h.title=k.hostTitle,h.col=k.col}else{const k=S[_.type];h.title=k.title,h.col=k.col}return h}async function w(){e(3,l=!0);let _;try{_=await Me.apiCall("claim",{method:"post"},{code:v.code,form:r})}catch(h){console.error(h)}if(_.error)return e(4,d=ht(_.error)),e(3,l=!1),null;if(!_.ok||!_.ticket)return e(4,d={title:"Neznámá chyba"}),e(3,l=!1),null;rt.update(h=>(h.tickets||(h.tickets=[]),h.tickets.push([_.ticket.id,_.ticket.secret].join(":")),h)),window.location.replace("/vstupenky")}function z(){r.email=this.value,e(2,r)}function A(){r.name=this.value,e(2,r)}function O(){r.org=this.value,e(2,r)}function q(){r.twitter=this.value,e(2,r)}return i.$$.update=()=>{i.$$.dirty&3&&e(6,s=c&&v?b(v.link):null),i.$$.dirty&1&&e(5,u=E(v))},[v,c,r,l,d,u,s,w,z,A,O,q]}class Vt extends Xe{constructor(t){super(),Ze(this,t,_t,mt,Re,{})}}export{Vt as default};
