import{b as a}from"./stores-4b2dd576.js";import{s as o}from"./bundle-ce0d57cb.js";class d{constructor(){this.bundle=null}async load(){await this.loadBundle()}async loadBundle(n=!1){if(!this.bundle){if(n)this.bundle=o;else{const e=await fetch("https://spec.utxo.cz/23/bundle.json");this.bundle=await e.json()}if(a.set(this.bundle),this.bundle.spec.events){for(const e of this.bundle.spec.events)if(e.speakersInfo=e.speakers.map(t=>{const s=this.bundle.spec.speakers.find(i=>i.id===t);return s?{name:s.name,nickname:s.nickname,bio:s.bio,orgs:s.orgs,description:s.desc}:null}),this.bundle.schedule){const t=this.bundle.schedule.find(s=>s.event===e.id);t&&(e.scheduleId="@"+t.id)}}}return this.bundle}async apiCall(n,e={method:"get"},t=null){t&&(e.headers={"Content-Type":"application/json"},e.body=JSON.stringify(t));const s=await fetch(`https://api.utxo.cz/${n}`,e);return s.status!==200?null:s.json()}async submitOrder(n){return(await fetch("https://api.utxo.cz/submitOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}}const c=new d;export{c as a};
