import{c as b,a as Y}from"./stores-0b419ec7.js";import{a as p}from"./api-181b64a8.js";import{r as u,t as o,d as A,g as O,b as E}from"./index-2bc8c2b5.js";import{c as M}from"./index-91ccedb0.js";async function V(e){if(e.orders&&e.orders.length>0||e.tickets&&e.tickets.length>0){const r=await p.apiCall("orders",{method:"POST"},{orders:e.orders,tickets:e.tickets});b.update(t=>(t.orders=r.orders,t.tickets=r.tickets,t))}}async function Z(){Y.set(await p.apiCall("status"))}function R(e,r){u(2,arguments);var t=o(e),i=o(r),f=t.getFullYear()-i.getFullYear(),l=t.getMonth()-i.getMonth();return f*12+l}function k(e,r){return u(2,arguments),o(e).getTime()-o(r).getTime()}var S={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)}},H="trunc";function L(e){return e?S[e]:S[H]}function U(e){u(1,arguments);var r=o(e);return r.setHours(23,59,59,999),r}function C(e){u(1,arguments);var r=o(e),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function F(e){u(1,arguments);var r=o(e);return U(r).getTime()===C(r).getTime()}function q(e,r){u(2,arguments);var t=o(e),i=o(r),f=M(t,i),l=Math.abs(R(t,i)),n;if(l<1)n=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-f*l);var c=M(t,i)===-f;F(o(e))&&l===1&&M(e,i)===1&&(c=!1),n=f*(l-Number(c))}return n===0?0:n}function z(e,r,t){u(2,arguments);var i=k(e,r)/1e3;return L(t==null?void 0:t.roundingMethod)(i)}function N(e,r){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e}function P(e){return N({},e)}var I=1440,W=2520,D=43200,y=86400;function j(e,r,t){var i,f;u(2,arguments);var l=E(),n=(i=(f=t==null?void 0:t.locale)!==null&&f!==void 0?f:l.locale)!==null&&i!==void 0?i:A;if(!n.formatDistance)throw new RangeError("locale must contain formatDistance property");var c=M(e,r);if(isNaN(c))throw new RangeError("Invalid time value");var a=N(P(t),{addSuffix:Boolean(t==null?void 0:t.addSuffix),comparison:c}),v,h;c>0?(v=o(r),h=o(e)):(v=o(e),h=o(r));var d=z(h,v),_=(O(h)-O(v))/1e3,s=Math.round((d-_)/60),m;if(s<2)return t!=null&&t.includeSeconds?d<5?n.formatDistance("lessThanXSeconds",5,a):d<10?n.formatDistance("lessThanXSeconds",10,a):d<20?n.formatDistance("lessThanXSeconds",20,a):d<40?n.formatDistance("halfAMinute",0,a):d<60?n.formatDistance("lessThanXMinutes",1,a):n.formatDistance("xMinutes",1,a):s===0?n.formatDistance("lessThanXMinutes",1,a):n.formatDistance("xMinutes",s,a);if(s<45)return n.formatDistance("xMinutes",s,a);if(s<90)return n.formatDistance("aboutXHours",1,a);if(s<I){var w=Math.round(s/60);return n.formatDistance("aboutXHours",w,a)}else{if(s<W)return n.formatDistance("xDays",1,a);if(s<D){var X=Math.round(s/I);return n.formatDistance("xDays",X,a)}else if(s<y)return m=Math.round(s/D),n.formatDistance("aboutXMonths",m,a)}if(m=q(h,v),m<12){var x=Math.round(s/D);return n.formatDistance("xMonths",x,a)}else{var T=m%12,g=Math.floor(m/12);return T<3?n.formatDistance("aboutXYears",g,a):T<9?n.formatDistance("overXYears",g,a):n.formatDistance("almostXYears",g+1,a)}}function B(e,r){return u(1,arguments),j(e,Date.now(),r)}export{V as a,B as f,Z as l};
